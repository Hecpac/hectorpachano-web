---
import { getCollection } from 'astro:content';
import Layout from '../../layouts/Layout.astro';

export async function getStaticPaths() {
  const blogEntries = await getCollection('blog');
  return blogEntries.map(entry => ({
    params: { slug: entry.slug }, props: { entry },
  }));
}

const { entry } = Astro.props;
const { Content } = await entry.render();
---

<Layout title={entry.data.title}>
  <main class="container mx-auto px-4 py-16">
    <article class="max-w-3xl mx-auto prose prose-invert prose-lg prose-a:text-primary-glow-start prose-headings:text-white prose-p:text-gray-300">
       <!-- Title is typically handled by prose h1, or we can render it explicitly. 
            The instructions said "Usa la clase prose... para que el texto Markdown se vea perfecto".
            Usually the h1 is inside the markdown, but often it's frontmatter.
            The user didn't explicitly say to render the title outside, but standard blog practice is title in H1. 
            I'll render it at the top as the H1 might not be in the body of the markdown.
       -->
      <h1 class="text-gradient-primary mb-4">{entry.data.title}</h1>
      
      <div class="text-gray-400 mb-8 border-b border-white/10 pb-4">
        Por <span class="text-white">{entry.data.author}</span> | {entry.data.pubDate.toLocaleDateString('es-ES', { year: 'numeric', month: 'long', day: 'numeric' })}
      </div>

      <Content />
    </article>
  </main>
</Layout>
